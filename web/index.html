<!DOCTYPE html>
<html lang="fr">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Projet XML</title>

    <!-- Bootstrap Core CSS - Uses Bootswatch Flatly Theme: http://bootswatch.com/flatly/ -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/freelancer.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top" class="index">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#page-top">Projet XML</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li class="page-scroll">
                        <a href="#welcome">Présentation</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#part2">Données</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#part3">Méthodes</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#part4">Implémentations</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#part5">Analyse</a>
                    </li>

                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <!-- Header -->
     <header class="intro-header" style="background-image: url('./img/skylineparis.png')">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <div class="intro-text">
                        <span class="name">Projet XML</span>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Text 1 Section -->
    <section class="success" id="welcome">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Présentation</h2>
                    <hr class="star-light">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-10 col-lg-offset-1">
                    <p>Dans ce site nous allons présenter les étapes d’un projet réalisé dans le cadre du cours XML enseigné par Johan Ferguth à l'INALCO. L’objectif de ce projet est d'étudier s'il y a une dépendance entre les lieux de tournages des films et la localisation des monuments à Paris.</p>
                    <p><br>Pour répondre à notre problématique initiale, nous avons filtré et croisé des données pour ensuite marquer les localisations dans une carte. </p>
                    <p><br>À partir de cela, nous avons abordé une deuxième problématique : quelles sont les monuments les plus populaires pour les tournages de films ? Nous avons retraité les documents à l'aide d'une modélisation en XML et produit deux sortes résultats : une carte permettant de visualiser aisément le résultat; un tableau permettant de faire une analyse précise. </p><br>
                    <p><br>Nous avons aussi récupéré les informations sur le genre et le pays d'origine des films en ligne dans un document XML. Notre projet se focalisera sur la relation du genre et du pays d'origine de films avec la localisation de monuments à Paris.</p>
                </div>
            </div>
        </div>
    </section>



    <!-- Text 2 Section -->
    <section class="container" id="part2">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Données</h2>
                    <hr class="star-primary">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-10 col-lg-offset-1">
                    <h4>Données d'origine</h4>
                    <p><br>Il y a trois sources principales pour nos données d'origine: </p>
                    <p>1. <a href="http://opendata.paris.fr" target="_blank">opendata.paris.fr</a> pour les tournages<p>
                    <p>2. <a href="http://www.openstreetmap.org" target="_blank">www.openstreetmap.org</a> pour les monuments<p>
                    <p>3. <a href="https://www.omdbapi.com" target="_blank">www.omdbapi.com</a> pour des informations extra sur les tournages<p><br>
                    <p>Toutes les donées sur ces sites sont "open source" et on peut faire le data mining sur ces donées légalement.</p>
                    <p> Les données sur les tournages sont déjà modélisées en plusieurs formats. Nous avons choisi la modélisation <a href="http://opendata.paris.fr/explore/dataset/tournagesdefilmsparis2011/" target="_blank">tournagesdefilmsparis2011.xml</a>.</p><br>
                    <p>Les données des monuments ont été récupérées en utilisant l'API d'Open Street Maps. Nous avons définie manuellement une <a href="../data/liste_de_monuments.txt" target="_blank">liste de monuments</a> à partir des critères suivants:</p>
                    <p>- Caractère touristique du monument (choix basé sur les monuments trouvés sur le site <a href="http://monumentsdeparis.net" target="_blank">monumentdeparis.net</a>).</p>
                    <p>- Présence sur la liste des monuments nationaux</p>
                    <p>- Possibilité de projection de son espace d'influence sous forme de cercle (pas d'avenues ou de rues célèbres)</p> 
                    <p>Pour les difficultés rencontrées pour l'obtention des données des monuments, voir la section <a href="#part3">Méthodes</a>.</p>
                    
                    <h4><br>Traitements</h4>
                                            <p>A. Les données sur les monuments (<a href = "../script/traite_monuments.py"> script </a>)</p>
                                                    <p>Créer la liste de monuments, ajouter les coordonées et rendre deux fichiers dont l'un est en format xml et l'autre est en geoJson. Étapes :</p>
                                                    <p> - Récupérer les noms des monuments à Paris</p>
                                                    <p> - Éliminer par la main des lieux qui ne sont pas intramuros. Par ex. Marché de Rungis</p>
                                                    <p> - Ajouter les coordonnées des monuments en utilisant les API de Open Street Maps et GeoNames</p>
                                                    <p> - Modélisation en format geoJson</p>
                                                    <p> - Modélisation en format xml </p>
                                                    <p> - Établir la grammaire DTD et relaxng</p>

                                            <p><br>B. Les données sur les tournages (<a href = "../script/modelis_film.py"> script </a>)</p>
                                                    <p> Le fichier d'origine est en format XML et finalement, deux fichiers en format xml et un fichier en format Geojson sont générés. Étapes :</p>
                                                    <p> - Éliminer les noeuds 'film' qui n'ont pas de coordonnées</p>
                                                    <p> - Séparer les coordonées en deux noeuds</p>
                                                    <p> - Éliminer les lieux de tournage qui ne sont proches d'aucun monument. Perte de 21% des tournages (<a href = "../script/filter_new.py"> script </a>)</p>
                                                    <p> - Ajouter le nom du monument proche comme un nouveau noeud du noeud film restant et ajouter "type_radius" comme l'attribut (<a href = "../script/filter_new.py"> script </a>)</p>
                                                    <p> - Transformation en Geojson (<a href = "../script/geojson_film.py"> script </a>)</p>

                                            <p><br>C. Les données sur le genre et le pays d'origine du film (<a href = "../script/get_info_films.py"> script </a>)</p>
                                                    <p> - Faire un programme pour récupérer le genre et le pays d'origine des films filtrés par proximité en utilisant APIs</p>
                                                    <p>Ajouter ces informations comme deux noeuds supplémentaires dans l'arbre xml de tournages</p><br><br>
                </div>
            </div>
            <!--bouton-->
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <a href="resultats.html#page-top" class="btn btn-success btn-lg">PROGRAMMES ET RÉSULTATS</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Text 3 Section -->
    <section class="success" id="part3">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Méthodes</h2>
                    <hr class="star-light">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-10 col-lg-offset-1">
                    <h4><br>Visualisation</h4>
                    <p>Pour mieux comprendre si un tournage a été fait à proximité d'un monument, nous avons élaboré une projection des monuments et des tournages sur une carte de Paris (<a href = "resultats.html#part1"> carte 1 </a>). Comme certains monuments ont une surface considérable (le Jardin de Luxembourg, par exemple) ou peuvent être vus de loin, comme la Tour Eiffel, nous avons établi quatre niveaux d'influence selon l'importance du monument (en hauteur ou en surface). </p>
                    <p>Ces niveaux sont representés comme un attribut de chaque monument dans le fichier <a href = "../xml/monuments_coord.xml">monuments_coord.xml</a>). Cet attribut a été ensuite pris en compte pour définir différentes longueurs de radius et calculer la distance entre le monument et les tournages. Si la distance était inférieure à 500m, le tournage a été considéré comme proche au monument (<a href = "../script/filter_new.py"> script </a>). Le résultat du filtrage des tournages par proximité a été projecté dans une nouvelle carte (<a href = "resultats.html#part2"> carte 2 </a>).</p><br>
                    <h4><br>Difficultés</h4>
                    <p>1. Obtention des coordonnées des monuments</p>
                    <p>Initialement on voulait obtenir les coordonnées des monuments à partir des informations sur <a href="http://opendata.paris.fr" target="_blank">opendata.paris.fr</a> et sur <a href="http://www.data.gouv.fr" target="_blank">data.gouv.fr</a>. Comme les données disponibles sur ces sites (<a href="https://www.data.gouv.fr/fr/datasets/monuments-historiques-francais-1/" target="_blank">monuments.json et </a><a href="http://www.data.gouv.fr/fr/datasets/liste-des-coordonnees-gps-des-monuments-nationaux/" target="_blank">Ressource sans nom.ods</a>) étaient insuffissantes et difficiles à traiter par programme (fichier ods), on a dû les abandonner et obtenir les coordonnées à travers l'API d'Open Street Maps (voir <a href="#part4">Implémentations</a>).</p>
                    <p>Cette méthode s'est avéré très rapide et efficace. Pourtant, comme les coordonnées obtenues pour certains monuments étaient érronées (Hôtel de Ville, Place de la Concorde et Pont Neuf situés hors Paris), nous avons complété cette partie avec GeoNames.</p></br>
                    <p>2. Utilisation de modules</p>
                    <p>Nous nous sommes servies de plusieurs modules (voir <a href="#part4">Implémentations</a>) pour ce projet. Cela a facilité plusieurs étapes du travail, mais quand la documentation d'un module est insuffissante ou n'est pas au jour, on peut rencontrer des problèmes. C'est ce qui s'est passé avec la classe 'Circle' du module 'folium', qu'on voulait utiliser pour projecter des cercles autour des monuments mais qui avait été éliminée du module.</p> 
                    <p>Nous avons remplacé cette classe par 'CircleMaker', qui construit des cercles aussi mais il a fallu calculer l'équivalence entre pixels et mètres pour pouvoir s'en servir.</p><br/><br/>
                    <iframe src="tableau_fichier_résultat.html" width="100%" height="100%" frameborder="2"></iframe>
                </div>
            </div>

            <!--bouton-->
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <a href="resultats.html#page-top" class="btn btn-lg btn-outline">PROGRAMMES ET RÉSULTATS</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Text 4 Section -->
    <section class="container" id="part4">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Implémentations</h2>
                    <hr class="star-primary">
                </div>
            <div class="row">
                <div class="col-lg-10 col-lg-offset-1">
                    <h4/>Parseurs</h4>
                    <p><a href="http://lxml.de/tutorial.html">lxml.etree</a></p>
                    <p><a herf="https://docs.python.org/2/library/xml.etree.elementtree.html">The ElementTree XML API</a></p>
                    <p><a href="https://docs.python.org/2/library/json.html">JSON encoder and decoder</a></p>
                    <br/>
                    <h4>Obtention des coordonnées géographiques des monuments</h4>
                    <p><a href="http://api.openstreetmap.org">Open Street Maps API</a></p>
                    <p><a href="http://api.geonames.org/">GeoNames API</a></p><br/>
                    <h4>Traitement de coordonnées géographiques</h4>
                    <p><a href="https://github.com/geopy/geopy">GeoPy</a></p><br/>
                    <h4>Projection des cartes</h4>
                    <p><a href="https://github.com/python-visualization/folium">Folium</a></p><br/>
                    <h4>Récupération plus d'informations sur les films</h4>
                    <p><a href="https://www.omdbapi.com/">OMDb API</a></p><br/><br/>
                </div>
            </div>
            <!--bouton-->
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <a href="resultats.html#page-top" class="btn btn-success btn-lg">PROGRAMMES ET RÉSULTATS</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Text 5 Section -->
    <section class="success" id="part5">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Analyse</h2>
                    <hr class="star-light">
                </div>
            </div>
             <!-- bouton -->
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <a href="resultats.html#part3" class="btn btn-lg btn-outline">TABLEAU DE RÉSULTATS</a>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-10 col-lg-offset-1">
                    <br/><br/><h4>Analyse du tableau</h4>
                    <p><b>1. Réputation du monument</b></p>
                        <p>Selon le tableau, il y a une corrélation entre la réputation du monument et le choix du lieu de tournage. Les tops huit monuments préférés pour tourner des films sont Notre-Dame de Paris, Sacré-Coeur, Tour Eiffel, Opéra Garnier, Canal Saint Martin, Pont Alexandre III, Pont des Arts et Moulin Rouge. Ce sont des monuments très connus dans le monde entier. Surtout les tops trois, ce sont les représentants de Paris. Les monuments ayant moins de tournages autour sont généralement moins connus au monde.</p>
                    <p><b>2. Points innatendus</b></p>
                        <p>Pourquoi la Tour Eiffel n'est pas en premier lieu ? Pourquoi le pourcentage du Musée du Louvre, du Musée d'Orsay et du Palais d'Elysée est très bas ? Des facteurs autres que la réputation du monument peuvent conditionner le choix. Des mesures de sécurité pour le Palais d'Elysée, des droits d'image pour le Louvre et l'utilisation d'images d'archives pour Orsay et la Tour Eiffel peuvent être des possibles explications.</p>
                    <p><b>3. Surface d'influence</b> </p>
                        <p>Les monuments ont été classés selon leur surface. Intuitivement, on peut penser que le nombre de tournages est proportionnel à la surface d'influence. Cependant, cette règle n'est pas générale. Le Jardin des Plantes, par exemple, a une surface importante mais peu de films y ont été tournés. </p>
                    <p><b>4. Hypothèse non confirmée</b></p>
                        <p>Au départ, on comptait un total de 6804 lieux de tournage. Après avoir éliminé les lieux de tournage qui ne sont proches d'aucun monument, il en reste 1483. C'est-à-dire que presque 80% de lieux de tournage ne sont proches d'aucun monument selon nos critères. En supposant que nos critères sont pertinents, notre hypothèse de départ n'a pas été confirmée : les monuments n'ont pas une influence évidente sur le choix du lieu de tournage des films.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="text-center">
        <div class="footer-above">
            <div class="container">
                <div class="row">
                    <div class="footer-col col-md-6">
                        <h3>M2 TAL IM</h3>
                        <p>Institut National des Langues Orientales<br>2 Rue de Lille<br>Paris, 75007</p>
                    </div>
                    <div class="footer-col col-md-6">
                        <h3>Équipe</h3>
                        <p>Nidia Hernández - nidiahy@gmail.com<br>Yizhe Wang - wangyizhe0201@gmail.com<br>Xianfan Zhang - zxfan.fiona@gmail.com</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-below">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        Copyright &copy; HWZ 2016
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
    <div class="scroll-top page-scroll visible-xs visible-sm">
        <a class="btn btn-primary" href="#page-top">
            <i class="fa fa-chevron-up"></i>
        </a>
    </div>


    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="js/classie.js"></script>
    <script src="js/cbpAnimatedHeader.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/freelancer.js"></script>

</body>

</html>
